{
  "version": 2,
  "name": "tekshila",
  "builds": [
    {
      "src": "frontend/**",
      "use": "@vercel/static"
    },
    {
      "src": "api/**/*.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    {
      "src": "/api/auth/github/login",
      "dest": "/api/auth/github.py"
    },
    {
      "src": "/api/auth/github/callback",
      "dest": "/api/auth/github.py"
    },
    {
      "src": "/api/auth/user",
      "dest": "/api/auth/github.py"
    },
    {
      "src": "/api/auth/logout",
      "dest": "/api/auth/github.py"
    },
    {
      "src": "/api/generate-docs",
      "dest": "/api/generate-docs.py"
    },
    {
      "src": "/api/config",
      "dest": "/api/config.py"
    },
    {
      "src": "/api/github/repos",
      "dest": "/api/github/repos.py"
    },
    {
      "src": "/api/github/repos/([^/]+)/([^/]+)/branches",
      "dest": "/api/github/repos.py"
    },
    {
      "src": "/api/github/repos/([^/]+)/([^/]+)/pulls",
      "dest": "/api/github/repos.py"
    },
    {
      "src": "/api/github/repos/([^/]+)/([^/]+)/push",
      "dest": "/api/github/push.py"
    },
    {
      "src": "/(.*)",
      "dest": "/frontend/$1"
    }
  ],
  "functions": {
    "api/**/*.py": {
      "runtime": "python3.9"
    }
  },
  "env": {
    "GITHUB_CLIENT_ID": "@github_client_id",
    "GITHUB_CLIENT_SECRET": "@github_client_secret",
    "SECRET_KEY": "@secret_key",
    "GEMINI_API_KEY": "@gemini_api_key",
    "GEMINI_API_URL": "@gemini_api_url"
  },
  "installCommand": "pip install -r requirements.txt",
  "outputDirectory": "frontend",
  "framework": null,
  "rewrites": [
    {
      "source": "/api/(.*)",
      "destination": "/api/$1"
    },
    {
      "source": "/auth/(.*)",
      "destination": "/api/auth/$1"
    },
    {
      "source": "/(.*)",
      "destination": "/frontend/index.html"
    }
  ]
}